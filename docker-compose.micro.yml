version: '3'

services:

  account:
    build: ./tfc-account
    ports:
      - 8082:8082
    tty: true
    environment:
      - kafkabroker= broker:29092
      - SPRING_DATA_MONGODB_URI= mongodb://mongo:27017/account
  profile:
    build: ./tfc-profile
    ports:
      - 8083:8083
    tty: true
    environment:
      - DB_HOST=mongo
      - DB_PORT=27017
    networks:
      - backend
  dump:
    build: ./tfc-dump
    ports:
      - 8084:8084
    tty: true
    environment:
      - DB_HOST=mongo
      - DB_PORT=27017
    networks:
      - backend

networks:
  backend:
